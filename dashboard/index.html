<!-- dashboard/index.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Time Clock Dashboard</title>
</head>
<body>
  <h1>âœ… Dashboard is Live!</h1>
  <table id="clockEntriesTable">
    <thead>
      <tr>
        <th>Employee Name</th>
        <th>Project Name</th>
        <th>Clock-in Time</th>
        <th>Clock-out Time</th>
        <th>Total Hours</th>
      </tr>
    </thead>
    <tbody>
      <!-- Clock entries will be populated here -->
    </tbody>
  </table>
    
    // Function to fetch clock entries and display them on the dashboard
  async function fetchClockEntries() {
    try {
      const response = await fetch('/api/clock-entries');
      if (!response.ok) {
        throw new Error('Failed to fetch clock entries');
      }
      const clockEntries = await response.json();
  
      // Get the table body where entries will be inserted
      const tableBody = document.querySelector('#clockEntriesTable tbody');
      tableBody.innerHTML = ''; // Clear existing entries
  
      // Loop through the clock entries and create a row for each entry
      clockEntries.forEach(entry => {
        const row = tableBody.insertRow();
        row.innerHTML = `
          <td>${entry.employee_name}</td>
          <td>${entry.project_name}</td>
          <td>${entry.clock_in}</td>
          <td>${entry.clock_out}</td>
          <td>${entry.total_hours}</td>
        `;
      });
    } catch (error) {
      console.error('Error fetching clock entries:', error);
    }
  }
  
  // Call the function to fetch and display the clock entries
  fetchClockEntries();

</body>
</html>
